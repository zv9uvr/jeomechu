<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>지도와 가게 정보 표시</title>
    <style>
        /* 버튼과 지도 스타일 */
        #mapContainer { display: none; width: 100%; height: 500px; margin-top: 10px; }
        #storeInfo { margin-top: 10px; }
    </style>
</head>
<body>
    <h1>가게 정보 지도</h1>
    <button onclick="showMap()">지도 보기</button>
    <div id="mapContainer"></div>
    <div id="storeInfo"></div>

    <!-- Kakao Maps API 스크립트 (자신의 JavaScript 키로 대체) -->
    <script type="text/javascript" src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=bf82efef9d1689d7ae8db1f8a0b75887"></script>
    <script>
        // 가게 위치 정보 목록
        const stores = [
            { name: "가게 1", lat: 37.5665, lng: 126.9780, info: "서울 중구 을지로 1가" },
            { name: "가게 2", lat: 37.5700, lng: 126.9820, info: "서울 종로구 종로 1가" },
            { name: "가게 3", lat: 37.5725, lng: 126.9850, info: "서울 종로구 인사동" }
        ];

        let map;  // 지도 변수

        // 지도 표시 함수
        function showMap() {
            document.getElementById('mapContainer').style.display = 'block';  // 지도 컨테이너 표시

            // 지도 초기화 (서울 시청 중심 좌표)
            map = new kakao.maps.Map(document.getElementById('mapContainer'), {
                center: new kakao.maps.LatLng(37.5665, 126.9780),
                level: 5
            });

            // 가게마다 마커 생성
            stores.forEach(store => {
                const markerPosition = new kakao.maps.LatLng(store.lat, store.lng);
                const marker = new kakao.maps.Marker({
                    position: markerPosition
                });
                marker.setMap(map);

                // 마커 클릭 이벤트: 가게 정보 표시
                kakao.maps.event.addListener(marker, 'click', function() {
                    document.getElementById('storeInfo').innerHTML = 
                        `<h2>${store.name}</h2><p>${store.info}</p>`;
                });
            });
        }
    </script>
</body>
</html>
